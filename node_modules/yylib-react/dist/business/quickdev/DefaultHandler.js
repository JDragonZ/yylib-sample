"use strict";

/**
 * Created by Administrator on 2016/11/5.
 */
var API = require('./api.all');
var DefaultHandler = {
    "icop.select": {
        "onClick": function onClick() {
            console.log('icop.select-->click');
            var page = this.getPage();
            var table = this.findUI('icop.table');
            if (table.uitype == 'YYTable') {
                API.table.loadData({ page: page, table: table });
            } else if (table.uitype == 'TableWidget') {
                table.api.queryData();
            }
        }
    },
    "icop.delete": {
        "onClick": function onClick() {
            console.log('icop.delete-->click');
            var page = this.getPage();
            var table = this.findUI('icop.table');
            if (table.uitype == 'YYTable') {
                API.table.batchDelete({ page: page, table: table });
            } else if (table.uitype == 'TableWidget') {
                table.api.deleteData();
            }
        }
    },
    "icop.table": {
        onViewWillMount: function onViewWillMount(options) {
            console.log('icop.table-->onViewWillMount');
            //var itemUI = options.item;
            var page = this.getPage();
            var table = this.findUI('icop.table');
            if (table.uitype == 'YYTable') {
                API.table.init({ page: page, table: table });
            }
        },
        onViewDidMount: function onViewDidMount(options) {
            //var itemUI = options.item;
            //console.log('listTable onViewDidMount',!!itemUI);
            console.log('icop.table-->onViewDidMount');
            var page = this.getPage();
            var table = this.findUI('icop.table');
            if (table.uitype == 'YYTable') {
                API.table.loadData({ page: page, table: table });
            }
        }
    }
};

module.exports = DefaultHandler;